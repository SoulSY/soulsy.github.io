














<!DOCTYPE html>
<html lang='en'><head>
    <meta charset="utf-8">
    <link rel="shortcut icon" href='/favicon.ico' type="image/x-icon">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Design Pattern 05. Prototype Pattern - SamTech</title>

    
    <meta name="description" content="understanding the Prototype Pattern" />
    

    

    
    <meta name="author" content="soulsy" />
    

    
        <meta property="og:title" content="Design Pattern 05. Prototype Pattern" />
<meta property="og:description" content="understanding the Prototype Pattern" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://soulsy.github.io/dev/design_pattern/prototype_pattern/" /><meta property="article:section" content="dev" />
<meta property="article:published_time" content="2023-06-20T00:00:00+00:00" />
<meta property="article:modified_time" content="2023-06-20T00:00:00+00:00" />

    

    
        <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Design Pattern 05. Prototype Pattern"/>
<meta name="twitter:description" content="understanding the Prototype Pattern"/>

    <link rel="stylesheet" href="/style.min.5297c96c59a52afaa5bcda4a6cedf3813081f64025c209b25b2ee6d0c8f74d462b625ad3404a92a14d7a51b4ec0a420337ae70f426fa4bce2d5f7459a3ca7274.css" integrity="sha512-UpfJbFmlKvqlvNpKbO3zgTCB9kAlwgmyWy7m0Mj3TUYrYlrTQEqSoU16UbTsCkIDN65w9Cb6S84tX3RZo8pydA==">



    <link rel="stylesheet" href="/lib/css/prism.min.6226f06f992e0d6166b0e26724efd050dcc381202a752892ba523b1b865de2ea5e427f8f7d10de682fc35d6e7444018247d1f25db5e1e3bab17068ce191c5886.css" integrity="sha512-Yibwb5kuDWFmsOJnJO/QUNzDgSAqdSiSulI7G4Zd4upeQn&#43;PfRDeaC/DXW50RAGCR9HyXbXh47qxcGjOGRxYhg==">


        
<script async src="https://www.googletagmanager.com/gtag/js?id=G-1JSCNZBFBL"></script>
<script>
var doNotTrack = false;
if (!doNotTrack) {
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());
	gtag('config', 'G-1JSCNZBFBL', { 'anonymize_ip': false });
}
</script>

    

    
    <script>
        if (localStorage.theme === 'dark' || (!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
            document.documentElement.setAttribute("data-theme", "dark");
        } else {
            document.documentElement.setAttribute("data-theme", "light");
        }
    </script>
<script defer src="/js/header.7a2a109ec3782c57bad0332b662f8a5f41765505936b69868eb8bd5241de9daf23c388e82ca1831f6d09935013dcb9f71bfa7face3975880c1076028b7b0a6e1.js" integrity="sha512-eioQnsN4LFe60DMrZi&#43;KX0F2VQWTa2mGjri9UkHena8jw4joLKGDH20Jk1AT3Ln3G/p/rOOXWIDBB2Aot7Cm4Q=="></script>



    <script defer src="/js/zooming.684b5d075bf94d0adfa21a7e7eb9acec1ddfb2e7b47d6657981617f0db0cf50949f1172801595afa3051f51b28d67f6a2d0c41be677b59b564307d9dbe4a4fd2.js" integrity="sha512-aEtdB1v5TQrfohp&#43;frms7B3fsue0fWZXmBYX8NsM9QlJ8RcoAVla&#43;jBR9Rso1n9qLQxBvmd7WbVkMH2dvkpP0g=="></script>







    
        

        
        

        
        
            
        

        <script defer src="/js/prism.c16efe6b4f0ae7df5f934ad76ec45633d61b926e66c11dae8f2f56f5e6fc27ba412a3f88ba617f8436480ac928ca3fbc0c3cdee84992a64130d42ea551dad860.js" integrity="sha512-wW7&#43;a08K599fk0rXbsRWM9Ybkm5mwR2ujy9W9eb8J7pBKj&#43;IumF/hDZICskoyj&#43;8DDze6EmSpkEw1C6lUdrYYA==" data-manual></script>
    



    
    
    
    <script defer src="/js/search-en.1673d4830ee4ce3c4c87a23698a8ec40e83a1819e6bc44d78ac9480cb517dc925b6ab17a1f1f69dd606c493532b730fad074346ee994b35d4a2f31123fad072b.js" integrity="sha512-FnPUgw7kzjxMh6I2mKjsQOg6GBnmvETXislIDLUX3JJbarF6Hx9p3WBsSTUytzD60HQ0bumUs11KLzESP60HKw=="></script>




</head><body>
        <main><header>
    <div class="brand">
        <div id="sidebar_btn">
            <svg id="menu_icon" width="26px" height="26px" viewBox="0 0 24 24"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg></svg>
        </div>

        <div>
            <a href="/">SamTech</a>
        </div>
    </div>

    <div class="toolbox">
        <div id="theme_tool">
            <svg id="dark_mode_btn" class="hidden toolbox-btn" width="18px" height="18px" viewBox="0 0 24 24"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round" class="feather feather-sun"><circle cx="12" cy="12" r="5"></circle><line x1="12" y1="1" x2="12" y2="3"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line><line x1="1" y1="12" x2="3" y2="12"></line><line x1="21" y1="12" x2="23" y2="12"></line><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line></svg></svg>
            <svg id="light_mode_btn" class="hidden toolbox-btn" width="18px" height="18px" viewBox="0 0 24 24"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-moon"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path></svg></svg>
        </div>

        
            <div id="search_tool">
                <svg id="search_btn" class="toolbox-btn" width="18px" height="18px" viewBox="0 0 24 24"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"><circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line></svg></svg><div id="search_menu_wrapper" class="hidden">
    <div id="search_menu">
        <div id="search_menu_toolbar">
            <div id="search_menu_input_wrapper">
                <input id="search_menu_input" type="text" placeholder='Search Posts'>
            </div>
            <div id="search_menu_close_btn">
                <svg width="18px" height="18px" viewBox="0 0 24 24"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-x"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg></svg>
            </div>
        </div>
        <div id="search_menu_results">
        </div>
    </div>
</div>
</div>
        

        
            <div id="translation_tool" class="dropdown-wrapper pure-menu pure-menu-horizontal toolbox-btn">
                <ul class="pure-menu-list">
                    <li class="pure-menu-item pure-menu-has-children pure-menu-allow-hover">
                        <div class="dropdown-btn pure-menu-link">
                            <svg width="18px" height="18px" viewBox="0 0 24 24"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-globe"><circle cx="12" cy="12" r="10"></circle><line x1="2" y1="12" x2="22" y2="12"></line><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"></path></svg></svg>
                            <span class="dropdown-desc">English</span>
                        </div>
                        <ul class="pure-menu-children">
                            
                            <li class="pure-menu-item">
                                <a href="https://soulsy.github.io/" class="pure-menu-link">English</a>
                            </li>
                            
                            <li class="pure-menu-item">
                                <a href="https://soulsy.github.io/ko/" class="pure-menu-link">한글</a>
                            </li>
                            
                        </ul>
                    </li>
                </ul>
            </div>
        
    </div>
</header>
<nav id="navbar" class="pure-menu"><ul class="pure-menu-list"><li class="navbar-item pure-menu-item ">
                    
                        <a href="/about/" class="pure-menu-link">About</a>
                    
                </li><li class="navbar-item pure-menu-item ">
                    
                        <a href="/news/" class="pure-menu-link">News</a>
                    
                </li><li class="navbar-item pure-menu-item insection">
                    
                        <a href="/dev/" class="pure-menu-link">Dev</a>
                    
                </li><li class="navbar-item pure-menu-item ">
                    
                        <a href="/knowledge/" class="pure-menu-link">Knowledge</a>
                    
                </li></ul>
</nav>
<div id="sidebar_canvas_overlay" class="hidden"></div>
<div id="sidebar" class="close">
    <ul><li>
                    <a href="/about/">About</a>
                </li><li>
                    <a href="/news/">News</a>
                </li><li>
                    <a href="/dev/">Dev</a>
                </li><li>
                    <a href="/knowledge/">Knowledge</a>
                </li></ul>
</div><div id="content" class="content-margin">
                
    
    <div class="collapsible-menu-wrapper"><div class="collapsible-menu-type"><span>Table of contents</span></div><div class="collapsible-menu">
        
            <nav id="TableOfContents">
  <ul>
    <li><a href="#overview">Overview</a></li>
    <li><a href="#advantages">Advantages</a></li>
    <li><a href="#considerations">Considerations</a></li>
    <li><a href="#patterns-used-with-the-prototype-pattern">Patterns Used with the Prototype Pattern</a></li>
  </ul>
</nav>
        
    </div></div>



    <div class="content-margin">

<article >
    
    
        
        
    
    <h2 id="overview">Overview</h2>
<p>The Prototype pattern is a design pattern that allows the creation of objects by cloning existing objects, reducing the cost of object creation. The Prototype pattern consists of the following elements:</p>
<ul>
<li><strong>Prototype Interface or Abstract Class</strong>: Defines the cloning method that declares the ability to clone an object.</li>
<li><strong>ConcretePrototype Class</strong>: Implements the Prototype interface concretely and provides the cloning method to perform object cloning.</li>
<li><strong>Client</strong>: Requests the cloning operation and creates new objects.</li>
</ul>
<pre  class="mc-prism hide language-text" ><code class="language-java">// Prototype Interface
public interface Prototype {
    Prototype clone();
}

// ConcretePrototype Class
public class ConcretePrototype implements Prototype {
    private String property;

    public ConcretePrototype(String property) {
        this.property = property;
    }

    public Prototype clone() {
        return new ConcretePrototype(this.property);
    }

    public void setProperty(String property) {
        this.property = property;
    }

    public String getProperty() {
        return property;
    }
}

// Client Class
public class Client {
    public static void main(String[] args) {
        // Create an original object
        ConcretePrototype prototype = new ConcretePrototype(&quot;Original&quot;);

        // Clone the object
        ConcretePrototype clonedObject = (ConcretePrototype) prototype.clone();

        // Change the property of the cloned object
        clonedObject.setProperty(&quot;Cloned&quot;);

        System.out.println(&quot;Original Object: &quot; + prototype.getProperty());
        System.out.println(&quot;Cloned Object: &quot; + clonedObject.getProperty());
    }
}
</code></pre>
<p>In the above example code, we define the <code>Prototype</code> interface and have the <code>ConcretePrototype</code> class implementing it. The <code>ConcretePrototype</code> class provides the <code>clone()</code> method to clone itself. In the <code>Client</code> class, we create an original object and then clone it to create a new object. We modify the property of the cloned object and print the results.</p>
<h2 id="advantages">Advantages</h2>
<ul>
<li>Reduces the cost of object creation by cloning existing objects. It avoids expensive initialization operations.</li>
<li>Simplifies the object creation process. Instead of complex initialization, it clones the existing object and makes necessary modifications.</li>
</ul>
<h2 id="considerations">Considerations</h2>
<ul>
<li>Be careful about shallow copy and deep copy during the cloning process. Shallow copy only copies the references of the referred objects, so the original and cloned objects may still refer to the same objects. Deep copy creates new instances of the referred objects, ensuring that the original and cloned objects refer to independent objects.</li>
<li>When an object has complex state, ensure that all state is accurately cloned. Take care while implementing the cloning method.</li>
<li>The Prototype pattern may become challenging to handle structural changes in objects dynamically. If the object&rsquo;s structure changes, you may need to modify all the cloning-related code.</li>
</ul>
<p>Here&rsquo;s an example of incorrectly implementing object cloning and not using the Prototype pattern correctly:</p>
<pre  class="mc-prism hide language-text" ><code class="language-java">// Prototype Interface
public interface Prototype {
    Prototype clone();
}

// ConcretePrototype Class
public class ConcretePrototype implements Prototype {
    private int[] array;

    public ConcretePrototype(int[] array) {
        this.array = array;
    }

    public Prototype clone() {
        return new ConcretePrototype(this.array); // Incorrect cloning approach
    }

    public void setArrayValue(int index, int value) {
        array[index] = value;
    }

    public int[] getArray() {
        return array;
    }
}

// Client Class
public class Client {
    public static void main(String[] args) {
        // Create the original object
        int[] originalArray = {1, 2, 3};
        ConcretePrototype prototype = new ConcretePrototype(originalArray);

        // Clone the object
        ConcretePrototype clonedObject = (ConcretePrototype) prototype.clone();

        // Modify the array value of the cloned object
        clonedObject.setArrayValue(0

, 99);

        System.out.println(&quot;Original Array: &quot; + Arrays.toString(prototype.getArray()));
        System.out.println(&quot;Cloned Array: &quot; + Arrays.toString(clonedObject.getArray()));
    }
}
</code></pre>
<p>In the above example code, the <code>clone()</code> method in the <code>ConcretePrototype</code> class performs shallow copying of the array. As a result, the original and cloned objects end up referencing the same array object. Therefore, when modifying the array value of the cloned object, the array value of the original object also changes.</p>
<p>In such cases, the correct approach is to perform deep copying to ensure that the cloned object and the original object refer to independent array objects. For example, you can create a new array instance and copy the array elements to perform cloning correctly.</p>
<h2 id="patterns-used-with-the-prototype-pattern">Patterns Used with the Prototype Pattern</h2>
<ul>
<li><strong>Abstract Factory Pattern</strong>: The Abstract Factory pattern can be used to manage Prototype instances and create new objects based on them.</li>
<li><strong>Builder Pattern</strong>: The Builder pattern can be used to clone Prototype objects and perform additional configuration operations.</li>
<li><strong>Singleton Pattern</strong>: The Singleton pattern can be used to share Prototype instances and create new objects by cloning them when needed.</li>
</ul>

</article>
</div>


                
                    
                
            </div>
<footer>
    <article>Copyright © 2023 by soulsy</article>
</footer>

</main>
    </body>
</html>
